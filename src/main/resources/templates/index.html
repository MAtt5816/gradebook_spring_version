<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head th:include="layout :: head"></head>
<body>
<div th:include="layout :: navigationPanel"></div>
<h1 th:text="'Witaj ' +${user.name} + ' ' + ${user.surname}"></h1>
<div class="min-h-screen bg-gray-100 flex flex-wrap items-center justify-center">
    <div th:if="${user.role.name() == 'STUDENT'}" class="card w-96 bg-base-100 m-4 shadow-xl">
        <div class="card-body overflow-x-auto">
            <table class="table">
                <thead>
                <tr>
                    <th>Nazwa przedmiotu</th>
                    <th th:colspan="${gradesMaxCount}">Oceny</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="subject : ${subjects}">
                    <td th:text="${subject.key.name}"></td>
                    <td th:each="grade : ${subject.value}">
                        <p th:text="${grade.mark}"></p>
                    </td>
                    <td th:colspan="${gradesMaxCount}" th:if="${subject.value.isEmpty()}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div th:if="${user.role.name() == 'TEACHER'}" th:each="student : ${studentsGrades}"
         class="card w-96 bg-base-100 shadow-xl m-4">
        <div class="card-body overflow-x-auto">
            <table class="table">
                <caption th:text="${student.key.surname} + ' ' + ${student.key.name}"></caption>
                <thead>
                <tr>
                    <th>Nazwa przedmiotu</th>
                    <th th:colspan="${gradesMaxCount}">Oceny</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="subject : ${student.value}">
                    <td th:text="${subject.key.name}"></td>
                    <td th:each="grade : ${subject.value}">
                        <p th:text="${grade.mark}"></p>
                    </td>
                    <td th:colspan="${gradesMaxCount}" th:if="${subject.value.isEmpty()}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<div th:include="layout :: footer"></div>
</body>
</html>